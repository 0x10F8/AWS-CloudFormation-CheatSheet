{
    "ResourceName": "AWS::AutoScaling::LaunchConfiguration",
    "Ref": "<p>\n                  When you pass the logical ID of this resource to the intrinsic <code class=\"code\">Ref</code> function, <code class=\"code\">Ref</code> returns the resource name. For example:\n        <code class=\"code\">mystack-mylaunchconfig-1DDYF1E3B3I</code>.</p><p>For more information about using the <code class=\"code\">Ref</code> function, see <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html\"><code class=\"code\">Ref</code></a>.</p><p>CloudFormation marks the Auto Scaling group as successful (by setting its status to\n        CREATE_COMPLETE) when its desired capacity is reached. However, if <code class=\"code\">SpotPrice</code> is\n        set in the launch configuration, then desired capacity is not used as a criteria for\n        success. Whether your request is fulfilled depends on Spot Instance capacity and your\n        maximum price. If the current Spot price is less than your specified maximum price, Amazon\n        EC2 Auto Scaling uses the desired capacity as the target capacity for the group. If the\n        request for Spot Instances is unsuccessful, it keeps trying. </p><p>If your Auto Scaling instances receive a public IPv4 address and are launched in a VPC\n        that is defined in the same stack template, you must use the <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html\">DependsOn\n          attribute</a> to declare a dependency on the <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc-gateway-attachment.html\">VPC-gateway attachment</a>. </p><p>The following examples create launch configurations that can be used by an Auto Scaling\n        group to configure Amazon EC2 instances. </p><p><a href=\"#aws-resource-autoscaling-launchconfiguration--examples--Amazon_EBS-backed_AMI_and_defined_block_device_mappings\">Amazon EBS-backed AMI and defined block device mappings</a></p><p><a href=\"#aws-resource-autoscaling-launchconfiguration--examples--Instance_store-backed_AMI_with_Spot_price_and_IAM_role\">Instance store-backed AMI with Spot price and IAM role</a></p><p><a href=\"#aws-resource-autoscaling-launchconfiguration--examples--Provisioned_IOPS_EBS-optimized_volume_with_key-pair_name_and_user_data\">Provisioned IOPS EBS-optimized volume with key-pair name and user data</a></p><p>This example shows a launch configuration with a <code class=\"code\">BlockDeviceMappings</code>\n          property that lists two devices: a 30 gigabyte EBS root volume mapped to /dev/sda1 and a\n          100 gigabyte EBS volume mapped to /dev/sdm. The /dev/sdm volume uses the default EBS\n          volume type based on the region and is not deleted when terminating the instance it is\n          attached to. </p><p>CloudFormation supports parameters from the AWS Systems Manager\n          Parameter Store. In this example, the <code class=\"code\">ImageId</code> property references the latest\n          Amazon Linux 2 AMI (EBS-backed image) from the Parameter Store. For more information, see\n            <a href=\"https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html\">AWS Systems Manager Parameter Store</a> in the <em>\n                     AWS Systems Manager User Guide</em> and the blog post <a href=\"https://aws.amazon.com/blogs/compute/query-for-the-latest-amazon-linux-ami-ids-using-aws-systems-manager-parameter-store/\" rel=\"noopener noreferrer\" target=\"_blank\"><span>Query for the latest Amazon Linux AMI IDs using AWS Systems Manager\n            Parameter Store</span><awsui-icon class=\"awsdocs-link-icon\" name=\"external\"></awsui-icon></a> on the AWS Compute Blog.</p><p>This example shows a launch configuration that launches Spot Instances in the Auto\n          Scaling group. This launch configuration will only be active if the current Spot price is\n          less than the price in the template specification (0.045). It also demonstrates a launch\n          configuration that uses the <code class=\"code\">IamInstanceProfile</code> property. For an example of a\n          full template, including the definition of, and further references from the <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-instanceprofile.html\">InstanceProfile</a> object referenced here as <code class=\"code\">RootInstanceProfile</code>, see\n            <a href=\"https://s3.amazonaws.com/cloudformation-templates-us-east-1/auto_scaling_with_instance_profile.template\" rel=\"noopener noreferrer\" target=\"_blank\"><span>auto_scaling_with_instance_profile.template</span><awsui-icon class=\"awsdocs-link-icon\" name=\"external\"></awsui-icon></a>.</p><p>In this example, the <code class=\"code\">ImageId</code> property references the latest Amazon Linux\n          AMI (instance store/S3-backed image) from the Parameter Store. The BlockDeviceMappings\n          property lists a virtual device <code class=\"code\">ephemeral0</code> mapped to /dev/sdc.</p><p>This example demonstrates a launch configuration that configures the\n            <code class=\"code\">EbsOptmized</code> property to launch instances with a provisioned IOPS\n          EBS-optimized volume. This can increase the performance of your EBS-backed\n          instances.</p><p>For instances that are not EBS\u00e2\u0080\u0093optimized by default, you must enable EBS\n            optimization to achieve the level of performance described in the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html\">Amazon\n              EBS-optimized instances</a> documentation in the <em>Amazon Elastic Compute\n              Cloud User Guide</em>. For current generation instance types, EBS-optimization\n            is enabled by default at no additional cost. Enabling EBS optimization for a previous\n            generation instance type that is not EBS-optimized by default incurs additional\n            fees.</p><p>When you use a launch configuration such as this one, your <code class=\"code\">m1.large</code>\n          instances will contain optimized EBS root volumes with the provisioned IOPS settings that\n          you specified in the AMI. Because you cannot specify the IOPS settings in a launch\n          configuration, the AMI must be configured with a block device mapping that specifies the\n          desired number of IOPS. The following are key attributes of this EBS-optimized instance\n          configuration:</p><p>An instance type of <code class=\"code\">m1.large</code> or greater. This is required for EBS\n              optimization. This optimization is only available for certain instance types and\n              sizes.</p><p>An EBS-backed AMI with a volume type of <code class=\"code\">io1</code> and the number of IOPS\n              you want to provision for the volume. </p><p>The size of the EBS volume must accommodate the IOPS you need. There is a 50:1\n              ratio between IOPS and Gibibytes (GiB) of storage.</p><p>For more information about IOPS performance with provisioned IOPS volumes, see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#EBSVolumeTypes_piops\">Provisioned IOPS\n            SSD (<code class=\"code\">io1</code> and <code class=\"code\">io2</code>) volumes</a> in the <em>Amazon\n            Elastic Compute Cloud User Guide</em>.</p><p>For more performance tips, see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSPerformance.html\">Amazon EBS volume performance on Linux\n            instances</a> in the <em>Amazon Elastic Compute Cloud User Guide</em>. </p><p></p><p>You can find additional useful snippets in the following sections of the <em>\n                     AWS CloudFormation User Guide</em>:</p><p>For examples of Auto Scaling groups, see <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-auto-scaling.html\">Configure\n                  Amazon EC2 Auto Scaling resources</a>.</p><p>For examples of launch templates, see <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-launch-templates.html\">Create\n                  launch templates</a>.</p><p>\n<a href=\"https://docs.aws.amazon.com/autoscaling/ec2/userguide/migrate-launch-configurations-with-cloudformation.html\">Migrate AWS CloudFormation stacks from launch configurations to\n              launch templates</a> in the <em>Amazon EC2 Auto Scaling User\n              Guide</em>\n</p><p>\n<a href=\"https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_CreateLaunchConfiguration.html\">CreateLaunchConfiguration</a> in the <em>Amazon EC2 Auto Scaling API\n              Reference</em>\n</p><p></p>",
    "GetAtt": []
}