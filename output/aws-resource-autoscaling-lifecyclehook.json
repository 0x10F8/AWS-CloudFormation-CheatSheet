{
    "ResourceName": "AWS::AutoScaling::LifecycleHook",
    "Ref": "<p>\n                  When you pass the logical ID of this resource to the intrinsic <code class=\"code\">Ref</code> function, <code class=\"code\">Ref</code> returns the resource name. For example:\n      <code class=\"code\">mylifecyclehook</code>.</p><p>For more information about using the <code class=\"code\">Ref</code> function, see <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html\"><code class=\"code\">Ref</code></a>.</p><p>The following examples specify lifecycle hooks. </p><p>For other examples of lifecycle hooks, see our <a href=\"https://github.com/aws-samples/amazon-ec2-auto-scaling-group-examples\" rel=\"noopener noreferrer\" target=\"_blank\"><span>GitHub\n          repository</span><awsui-icon class=\"awsdocs-link-icon\" name=\"external\"></awsui-icon></a>. Included are examples of lifecycle hooks that work with warm\n        pools.</p><p><a href=\"#aws-resource-autoscaling-lifecyclehook--examples--Lifecycle_hook_for_instance_launch\">Lifecycle hook for instance launch</a></p><p><a href=\"#aws-resource-autoscaling-lifecyclehook--examples--Lifecycle_hook_for_instance_termination\">Lifecycle hook for instance termination</a></p><p><a href=\"#aws-resource-autoscaling-lifecyclehook--examples--Lifecycle_hook_that_specifies_a_notification_target_ARN_and_role_ARN\">Lifecycle hook that specifies a notification target ARN and role ARN</a></p><p>The following example creates a launch template, an Auto Scaling group, and a\n          lifecycle hook that supports a custom action on your instances at launch. When you create\n          a launch template, you can include user data to perform configuration tasks and run\n          scripts when an instance launches. By doing so, you do not need to configure a\n          notification target. In this example, the hook keeps each instance in a wait state for 60\n          seconds to give the user data script time to complete before the instance enters the\n            <code class=\"code\">InService</code> state. </p><p>The example bash script in the user data customizes the hostname on instances to\n          include the launch template name and the instance ID. The script gets the ID of the\n          instance from the instance metadata. For more information, see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html\">Retrieve instance\n            metadata</a> in the <em>Amazon EC2 User Guide for Linux\n          Instances</em>.</p><p>The following example specifies a lifecycle hook that supports a custom action at\n          instance termination. It uses the <code class=\"code\">Ref</code> intrinsic function to refer to an Auto\n          Scaling group (whose logical name is <code class=\"code\">myASG</code>) that is declared elsewhere in the\n          same template. It uses the <code class=\"code\">NotificationMetadata</code> property to specify\n          additional information to be sent with the notification, such as the name of the cluster\n          to which the instance belongs.</p><p>This snippet does not include the notification target that would need to exist or be\n          created to complete the configuration. For information about creating these resources, see\n            <a href=\"https://docs.aws.amazon.com/autoscaling/ec2/userguide/prepare-for-lifecycle-notifications.html#lifecycle-hook-notification-target\">Configure a notification target for lifecycle notifications</a> in the\n            <em>Amazon EC2 Auto Scaling User Guide</em>.</p><p>The following example creates an Auto Scaling group with a lifecycle hook that\n          supports a custom action at instance launch. This example snippet uses the\n            <code class=\"code\">NotificationTargetARN</code> and <code class=\"code\">RoleARN</code> properties to specify the\n          Amazon SQS queue and IAM role to use to receive notification when a lifecycle action\n          occurs.</p><p>This snippet does not include the Amazon SQS queue and IAM role resources that would\n          need to exist or be created to complete the configuration. For information about creating\n          these resources, see <a href=\"https://docs.aws.amazon.com/autoscaling/ec2/userguide/prepare-for-lifecycle-notifications.html#lifecycle-hook-notification-target\">Configure a notification target for lifecycle notifications</a> in the\n            <em>Amazon EC2 Auto Scaling User Guide</em>.</p><p>You can find additional useful snippets in the following sections of the <em>\n                     AWS CloudFormation User Guide</em>:</p><p>For examples of Auto Scaling groups, see <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-auto-scaling.html\">Configure\n                  Amazon EC2 Auto Scaling resources</a>.</p><p>For examples of launch templates, see <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-launch-templates.html\">Create\n                  launch templates</a>.</p><p>\n<a href=\"https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_PutLifecycleHook.html\">PutLifecycleHook</a> in the <em>Amazon EC2 Auto Scaling API\n              Reference</em>\n</p>",
    "GetAtt": []
}